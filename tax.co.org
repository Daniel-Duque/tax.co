* about the data|results
** if no SS payments and (or?) making less than min wage, informal
** The ENPH : http://microdatos.dane.gov.co/index.php/catalog/566/get_microdata
** the 200 / 1400 missing COICOP codes appear not to matter much
*** the 80% of purchases that carry 0 VAT are due to a literally 0 VAT, not a NaN VAT
*** in the 10% sample less than 0.3% of the purchases have a NaN vat rate
x = purchases["vat-rate"]
>>> len(x)
7458243
>>> len( x[ x.isnull() ] )
28986
>>> 28986 / 7458243
0.0038864381329490067
* todo
** TODO NEXT: match variables in pre-release ENPH to those in official ENP
*** where "=" appears below, it means for purposes of the VAT analysis.
*** directorio <-> every file
*** orden <-> every official file
*** st2_sea_enc_gcfhr_ce_csv
**** TODO absent
***** nc2r_ce_p4s2 !! absent. this is "unit of measure".
***** nc2r_ce_p5 !! absent. this is "purchased=1".
**** most variables <->  gastos_personales_rural
***** nc2r_ce_p6
***** nc2r_ce_p7
***** nc2r_ce_p8
***** nc2r_ce_p2
***** nc2r_ce_p4s1
*** st2_sea_enc_gcfhr_csv = gastos_semanales_rural_-_comidas_preparadas_fuera_del_hogar
***** nh_cgprcfh_p1
***** nh_cgprcfh_p1s1
***** nh_cgprcfh_p2
***** nh_cgprcfh_p3
***** nh_cgprcfh_p4
***** nh_cgprcfh_p5
***** nh_cgprcfh_p6
***** nh_cgprcfh_p7
*** st2_sea_enc_gcfhu_diarios_csv = gastos_diarios_del_hogar_urbano_-_comidas_preparadas_fuera_del_hogar
**** nh_cgducfh_p1
**** nh_cgducfh_p1_1
**** nh_cgducfh_p2
**** nh_cgducfh_p3
**** nh_cgducfh_p4
**** nh_cgducfh_p5
**** nh_cgducfh_p6
**** nh_cgducfh_p7
*** st2_sea_enc_gcfhup_diarios_csv = gastos_personales_urbano_-_comidas_preparadas_fuera_del_hogar
**** nh_cgpucfh_p1
**** nh_cgpucfh_p1_s1
**** nh_cgpucfh_p2
**** nh_cgpucfh_p3
**** nh_cgpucfh_p4
**** nh_cgpucfh_p5
**** nh_cgpucfh_p6
*** 34 st2_sea_enc_gdr_csv
**** in both : nc2r_ca_p3  nc2r_ca_p4_s1  nc2r_ca_p5_s1  nc2r_ca_p6_s1  nc2r_ca_p7_s1  nc2r_ca_p8_s1
***** gastos_personales_rural_-_comidas_preparadas_fuera_del_hogar
***** gastos_semanales_rurales
**** nc2r_ca_p4_s2
***** gastos_semanales_rurales
*** st2_sea_enc_gmf_csv
**** gastos_menos_frecuentes_-_articulos
***** p10270
***** p10270s2
***** p10270s3
***** p10270s4
**** !! absent
***** p10270_fc_s1
***** p10270s1
** put filename-cleaned raw data on OneDrive
*** How I changed them: Change all spaces in filenames to underscores. Change files ending in .txt to end in .csv"

** code-internal
*** pdflatex: send reports to a file, not stdout
**** this way it doesn't drown the python error reports
** check data
*** TODO what are the biggest expenditures in the zero-vat set? good to check those vat rates.
*** is it half of households or half of individuals who have no income?
*** is it missing sole proprietor income?
**** is the income data equally missing in the GEIH?
** add features
*** household VAT rates by income decile
*** regional VAT rates
at least for ...
  - Bogota
  - Medellín
  - Cali
  - Barranquilla+Soledad (one metro area)
  - Bucaramanga
  - Cartagena
  - Cúcuta
  - Ibagué
  - Pasto
  - Popayán
*** ? include people/spending (already drawn)
*** make x-ticks more readable on some figures (e.g. fig 7, people/income)
*** TODO every spendinng graph, draw for people even with zero income
*** TODO CDF / spending: draw that for every income decile
*** do things by estrato; assume someone's electrical estrato is their estrato
*** if we had VAT as a function of estrato, then we could
**** apply those rates to income data from a survey with more incomme data
